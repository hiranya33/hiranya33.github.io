---
layout: post
title: MTA Subway Traffic -Exploratory Data Analysis!
published: true
---

## Challenge
WomenTechWomenYes (WTWY) is a charitable organization that has an Annual Gala at the beginning of Summer every year. We were tasked to use exploratory data analysis to determine the very best subway locations to optimize the placemnet of their street team in order to spread awareness and fill the gala with people who are passionate about increasing the participation of women in technology and contribute to the cause.

## Data
We used the MTA Turnstile Data which provides a detailed record count of every person who entered or exited through a New York MTA turnstile [MTA data](http://web.mta.info/developers/turnstile.html). We looked at data from 4 weeks  between 19th May & 16th June of 2018 because the Gala is held in early summer every year. Google API was used to get the zipcodes for the subway stations and the income data for wealthy residents by zipcode  was gathered from US Census data for the year 2016.

![Station Locations Map.png](https://github.com/hiranya33/hiranya33.github.io/blob/master/_posts/Station%20Locations%20Map.png)

## Methodology
We focussed on a three pronged approach to find the target subway stations.

1. **Median Daily Traffic**
   
   Stations with highest median daily traffic should be considered so that the Street Team can reach as many people as                      
   possible to cast a wider net for prospective donors.
2. **Commuter vs Non-Commuter**
   
   Stations that are busier during the weedays rather than weekends were considered as commuter traffic. A metric  
   weekday/weekend ratio was calculated to asses if a station was commuter or a non commuter station. This is important
   because we want to target local New York residents who would be able to attend the gala as opposed to tourits.
3. **High Income**
   
   High income New Yorkers are much more attractive targets for the organization as they are likely in a better place to
   donate. Subway stations located in areas with more wealthy people are more likely to have wealthy people entering or
   exiting. We identified the count of residents in a zipcode with income over $100,000  as high income group.

The intersection of these three criterias formed our group of target subway stations.

## Analysis

irst, we need to gather zip codes for the 422 unique MTA stations. To do this, we used the Google Maps API to pass the station name from the MTA data set and return the corresponding 5-digit zip code.

pandas.DataFrame.head()
The data was passed into a dataframe, then to csv, before being appending to the existing MTA dataframe.
The next step was to parse the ACS data to narrow down the list of possible zip codes. The zip codes were filtered then sorted by two parameters
% Commuters > 68%
Greatest number of households with annual income > $200k
Let’s take a look at the second parameter first. $200k is the greatest annual household income that is recorded by the ACS. Due to the density of NYC, it’s important to realize that MTA stations in the areas we’re interested in will (imperfectly) reflect the entire population and the sample of people passing through will have a range of incomes. By selecting the highest income, we gave ourselves the best chance to find major donors for WTWY, including potential individuals who may be well above the $200k/year mark.
How we arrived at a value of 68% for the filter pass of commuters was more nuanced. Initially, we looked for a maximum threshold that would return a manageable number of zip codes. We needed to keep the number of possible MTA stations to a targeted minimum so that we could provide a SMART solution to our client. Our first time through the pipeline, we used a threshold of 70% commuters and returned a list of three zip codes. It was only after visualizing some of the data that we reexamined our initial parameters.

## Results

We recommend sending Street Teams to these 5 stations, which represent the greatest opportunity for the street team given 
We recommend targeting Commuters during the busy transit times, on Tuesdays, Wednesdays, and Thursdays in particular, when volumes at the best stations with our target donors will be the highest.
[<<SEE HEATMAP>>]
We have also provided our client with detailed daily and hourly Heatmaps for each recommended subway station, so that they can further customize the timing of street team deployments to each individual station.
   

## Future Work
These are the areas worth exploring in future:
 
1. Drill down further on income data, on a block by block basis 
2. Compute a “Tech Score” to determine tech companies close to subway stations. Narrow down on traget by assigning a weighted
   score tech score ,income and commuter statioins.
3. Calculate the net inflow/outflow of commuters from any given station at tunstile level to accurately place the street team 
   near a particular turnstile location



Next you can update your site name, avatar and other options using the _config.yml file in the root of your repository (shown below).

![_config.yml]({{ site.baseurl }}/images/config.png)

The easiest way to make your first post is to edit this one. Go into /_posts/ and update the Hello World markdown file. For more instructions head over to the [Jekyll Now repository](https://github.com/barryclark/jekyll-now) on GitHub.
